GOTO skip

LBL InputSub
DISP bacStr
n : PROMPT
LBL setup
x : RANDINT(0,30)
y : RANDINT(0,30)
matrix[x,y] : bacVal
n : n-1
IF n > 0 THEN GOTO setup
RETURN

LBL DispMap
x : 0 END y : 0
LBL dispMapY
LBL dispMapX
IF matrix[x,y] != 0 THEN OUTPUT(x,y,matrix[x,y])
x : x+1
IF x < 30 THEN GOTO dispMapX 
x : 0 END y : y+1
IF y < 30 THEN GOTO dispMapY 
RETURN

LBL checkEnd 
x : 0 END y : 0 END v : 0
LBL checkEndY
LBL checkEndX
IF ((v != 0) & (matrix[x,y] != 0) & (matrix[x,y] != v)) THEN GOTO continue 
v : matrix[x,y]
x : x+1
IF x < 30 THEN GOTO checkEndX
x : 0 END y : y+1
IF y < 30 THEN GOTO checkEndY
GOTO end

LBL skip

matrix : MATRIX(30,30)
DISP "Initial count of each"

bacStr : "a" END bacVal : 1
GOSUB InputSub 

bacStr : "b" END bacVal : 2
GOSUB InputSub 

bacStr : "c" END bacVal : 3
GOSUB InputSub 

bacStr : "d" END bacVal : 4
GOSUB InputSub 

bacStr : "e" END bacVal : 5
GOSUB InputSub

GOSUB DispMap

LBL gameLoop
GOTO checkEnd
LBL continue
x : RANDINT(0,30)
y : RANDINT(0,30)
v : matrix[x,y]
IF v = 0 THEN GOTO continue 
d : RANDINT(0,4)
IF ((d = 0) & (x > 0)) THEN x : x-1
IF ((d = 1) & (y > 0)) THEN y : y-1
IF ((d = 2) & (x < 29)) THEN x : x+1
IF ((d = 3) & (y < 29)) THEN y : y+1
matrix[x,y] : v 
OUTPUT(x,y,matrix[x,y])
GOTO gameLoop

LBL end
DISP "Game Over"